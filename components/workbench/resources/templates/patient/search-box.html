{% if search-url %}
<form {% comment %} method="post" action="{{search-url}}" {% endcomment %}
      {% if hx-post %} hx-post="{{hx-post}}" {% endif %}
      {% if hx-target %} hx-target="{{hx-target}}" {% endif %}>

    <input type="hidden" name="__anti-forgery-token" value="{{csrf-token}}">
    <div class="flex items-center rounded-md bg-white outline outline-1 -outline-offset-1 outline-gray-300 focus-within:outline focus-within:outline-2 focus-within:-outline-offset-2 focus-within:outline-indigo-600">
        <div class="shrink-0 select-none text-base text-gray-500 sm:text-sm/6">
            <svg class="pointer-events-none col-start-1 row-start-1 ml-3 size-5 self-center text-gray-400"
                 viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                <path fill-rule="evenodd"
                      d="M9 3.5a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11ZM2 9a7 7 0 1 1 12.452 4.391l3.328 3.329a.75.75 0 1 1-1.06 1.06l-3.329-3.328A7 7 0 0 1 2 9Z"
                      clip-rule="evenodd"/>
            </svg>
        </div>
        <input type="text" name="search" id="search"
               class="block min-w-0 grow py-1.5 pl-1 pr-3 text-base text-gray-900 placeholder:text-gray-400 outline-none border-0 bg-transparent focus:ring-0 focus:border-0 focus:outline-none sm:text-sm/6"
               autocomplete="off" placeholder="Search" autofocus>
        <div class="grid shrink-0 grid-cols-1 focus-within:relative">
            <select id="filter" name="filter"
                    class="col-start-1 row-start-1 w-full appearance-none py-1.5 pl-3 pr-7 text-base text-gray-500 placeholder:text-gray-400 outline-none border-0 bg-transparent focus:ring-0 focus:border-0 focus:outline-none text-xs/6">
                <option value="my" selected>My patients</option>
                <option value="all">All patients</option>
            </select>
            <svg class="pointer-events-none col-start-1 row-start-1 mr-2 size-5 self-center justify-self-end text-gray-500 sm:size-4"
                 viewBox="0 0 16 16" fill="currentColor" aria-hidden="true" data-slot="icon">
                <path fill-rule="evenodd"
                      d="M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06Z"
                      clip-rule="evenodd"/>
            </svg>
        </div>
    </div>
    <div>
        <button type="submit"
                class="rounded-md w-full center bg-white px-2.5 py-2 text-xs font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50">
            Search...
        </button>
    </div>
</form>
{% endif %}